<link rel="import" href="../part-card/part-card.html">
<dom-module id="part-deck">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>

    <div>
      <template is="dom-repeat" items="{{items}}" filter="filter">
        <part-card item="{{item}}"></part-card>
      </template>
    </div>

  </template>

</dom-module>
<script>
  Polymer({

    is: 'part-deck',

    properties: {
      items: {
        type: Array,
        value: function () { return []; }
      },
      root: {
        value: String,
        value: '/'
      }
    },

    filter: function (item) {
      var catalog = location.search.slice(1);
      item.url = '/catalog/' + item.id + '?' + catalog;
      item.texture_url = 'http://' + catalog + '/' + item.code + '/texture.png';
      item.model_url = 'http://' + catalog + '/' + item.code + '/model.obj';
      return true;
    }

  });
</script>